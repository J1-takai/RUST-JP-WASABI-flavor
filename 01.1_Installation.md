<div style ="text-align: right">第1章 さあ、始めましょう</div>

---

<br>
<br>  

# 1.1	インストール

まず最初に行なうべきことは、Rustをインストールすることです。Rustは、Rustのバージョンや関連するツールを管理する`rustup`というコマンドラインツールを使用してダウンロードします。ダウンロードするには、インターネット接続が必要です。

    **注記**　なんらかの理由で`rustup`を使用したくない方は、Rust日本語サイトの「[Rustをインストール](/https://www.rust-lang.org/ja/tools/install/)」にて他の方法をご確認ください。

> 《訳注》　**ツール**（tools）：　〔工具・道具、の意〕　コンピュータの操作を簡便化したり機能を集約したりするために作られたプログラム類。「ユーティリティ utility software」とも呼ばれます。
> 
> 《訳注》　**コマンドライン** （Comannd Line）：　コンピュータを操作する場合に、「**コマンド** command」（＝コンピュータに対する命令）を毎回キーボードから打ち込んで行なう操作法、またはコンピュータ命令をタイプする場所。現在のコンピュータでは、ボタンやアイコンをマウスなどで操作する「グラフィカルユーザーインターフェース（GUI）」が主流であるので、その対極的操作法。

<br>

以下の手順で最新の安定版Rustコンパイラをインストールします。Rustは動作の安定性（stability）を保証しているので、この本に示されているコンパイル可能な（つまり間違いなく動作する）プログラム例は、新しいバージョンのRustでも問題なくコンパイルできます。ただし、Rustは頻繁にエラーメッセージや警告の改善を行なっているので、出力結果がバージョンによって多少異なる可能性はあります。平たく言えば、どんな新しいバージョンでもこの手順に従ってインストールした安定版なら、この本の内容での想定通りに動くということです。

<br>
<br>

### コマンドラインの記法

    この章や本書全体を通して、「端末（ターミナル）」というツールで使用するコマンドをいくつか示すことがあります。その端末画面では入力する行はすべて `$` で始まりますが、`$`記号は入力する必要がありません。これはコンピュータが各コマンドの開始を示しているだけで、自動表示されます。`$`記号が表示されていない行は、通常直前のコマンド操作の結果出力を示します。さらに言えば、ウィンドウズの「PowerShell（パワーシェル）」ツール操作に特化した使用例では、`$`記号ではなく、`>`記号が表示されます。

<br>

## Linux とmacOS にrustupをインストールする

<br>
利用しているPCがLinuxかmacOSを使用しているのであれば、「端末（ターミナル）」を開き、以下のコマンドを入力してください：

```rust
$ curl --proto '=https' --tlsv1.2 https://sh.rustup.rs -sSf | sh
```

このコマンドはスクリプトをダウンロードし、`rustup`ツールのインストールを開始し、Rustの最新安定版をインストールします。パスワードを求められる場合があります。インストールがうまく行けば、以下の行が表示されることでしょう：
```rust 
Rust is installed now. Great!
```
> 《訳注》　**スクリプト** （script）：　〔脚本・台本・手書き、の意〕　コンピュータ処理において、予め定型処理を登録しておき、後の繰り返し操作を省略するための簡易プログラム。毎回手書きのようにタイプ入力したり、作成済みの定型処理を呼び出したりすることで、即座に実行されます。

<br>
「リンカ」プログラムも必要かもしれません（リンカはRustがコンパイルした結果を一つのファイルにまとめるプログラムです）。既にインストールされている可能性は高いものの、「リンカ・エラー」がでるようであれば、「Cコンパイラ」をインストールしてください（通常、Cコンパイラにはリンカが含まれています）。一般的なRustパッケージの中には、Cプログラム言語のコードに依存し、Cコンパイラを必要とするものもありますので、Cコンパイラはインストールしておいて損はありません。

macOSでは、以下のコマンドで「Cコンパイラ」をインストールできます：

```rust
$ xcode-select --install
```

Linuxユーザーの方は、お使いのディストリビューションの文書に基づいて、通常「GCC」または「Clang」をインストールします。例えば、「ウブントゥ Ubuntu」をお使いの場合は、`build-essential` パッケージをインストールします。

<br>
## Windowsにrustupをインストールする

Windowsの場合は、[https://www.rust-lang.org/tools/install](/https://www.rust-lang.org/tools/install) にアクセスし、その手順に従ってRustをインストールしてください。インストールの途中で、Visual Studio 2013以降用の「C++ビルドツール」も必要になるという旨のメッセージが出るかもしれません。このビルドツールを取得する最も簡単な方法は、[Visual Studio 2019 用のビルドツール](/https://visualstudio.microsoft.com/ja/visual-cpp-build-tools/)をインストールすることです。どの「ワークロード workloads」（どの種類、ほどの意味）をインストールするか質問された場合は、「C++ build tools」を選択し、「Windows 10 SDK」と「英語の言語パック」（English language pack）も含まれていることに注意してください。

これ以降、本書ではウィンドウズの*cmd.exe*プログラムと*PowerShel*プログラムの両方で使えるコマンドを使用します。もし、どちらかのプログラムでしか動作しないコマンドの場合は、その都度どちらを使用すべきか明記します。

<br>
## 更新及びアンインストール

`rustup`を用いてRustをインストールしたのであれば、最新版への更新は簡単です。シェルから以下の更新スクリプト（コマンド）を実行してください：
```rust
$ rustup update
```
> 《訳注》　**シェル** shell：　〔殻、の意〕　キーボードから打ち込んだコンピュータに対するコマンドを対話的（逐次応答的）に処理・解釈して実行するプログラムのこと。「シェルから実行する」とは、シェルのプログラム（PowerShellやCMD〔コマンド・プロンプト〕など）を使ってコマンドを実行するということ。
> 
<br>

Rustとrustupをアンインストールするには、シェルから以下のアンインストールスクリプトを実行してください：
```
$ rustup self uninstall 
```

### トラブルシューティング

Rustが正常にインストールされているか確かめるには、シェル・プログラムを開いて以下の行を入力します：
```
$ rustc --version  
```
インストールされているRustのバージョン番号、ハッシュ値、リリース日時が以下のフォーマットで表示されるはずです。
```
rustc x.y.z (abcabcabc yyyy-mm-dd)

実際の表示例は、こんな感じ：
rustc 1.59.0 (9d1b2106e 2022-02-23)  
```
> 《訳注》　**ハッシュ** （hash）：　〔寄せ集め・支離滅裂、の意〕　ハッシュ値は、元のデータに不可逆的（元に戻せない）変換操作（ハッシュ関数による計算）を行ないランダムに見える数値に置き換えたものです。受け取ったデータを自分で同じ変換計算を実行し、そのハッシュ値が公開されているハッシュ値と同じであれば、受け取ったデータが改竄されたり破損していないと判断できます。

<br>

この情報が表示されれば、Rustのインストールは成功です！　Windowsを使っていて、この情報が表示されない場合は、使用しているPCのシステム環境変数の「`PATH`」を確認してRustが記載されていることを確認してください。これらが全て正常であるにもかかわらず、それでもまだRustがうまく動かなくても、助力を得られる場所は他にもたくさんあります。

最も簡単なのは「公式Rust Discord（錆の不快音）」の英語サイト [the official Rust Discord](https://discord.com/invite/rust-lang) の「**#beginnersチャンネル**」を覗いてみることです。そこでは、ラステイシャン Rustacean（Rustユーザが自分たちのことを呼ぶ、冗談めいたニックネーム）たちがチャットで手助けしてくれます。その他に、素晴らしい頼みの綱となる場所には「[ユーザ・フォーラムthe Users forum](/https://users.rust-lang.org/)」と「[スタックオーバーフローStack Overflow](/https://stackoverflow.com/questions/tagged/rust)」が挙げられます。日本語話者のためのコミュニティは [slack](https://rust-jp.herokuapp.com/) までどうぞ。

<br>

## オフライン文書（ローカルのドキュメンテーション）

インストールされたRustには、ローカル上（自分のPC）に複製されたドキュメンテーション（関連文書）のコピーが含まれていますので、オフラインで閲覧することができます。ローカル上のドキュメンテーションを開くには、シェル・プログラムで`rustup doc`を実行してください。ブラウザ上に文書が表示されます（英語版ですけどね）。

標準ライブラリにより「型」や「関数」が提供された場合に、それがなにでどう使うのかよくわからないときは、いつでもAPI（アプリケーション・プログラミング・インターフェース）のドキュメンテーションを検索してみてください！

> 《訳注》　**API**（application program interface）：　〔ユーザー・プログラム用インターフェース、の意〕　アプリケーション（ユーザーのプログラム）側からコンピュータの機能を使うために決められた手順。通常はこれから学ぶ**関数**のような形式になっており、ユーザーのプログラムの中でその関数を使う（「呼び出す」という言い方がしばしば用いられます）ことで、コンピュータの機能や他のプログラムと連携できるようにするものです。
>
<br>
<br>

<hr>

<div align="center";>

[≪≪ 前に戻る](/01.0_Beginning.md)　　  | 　　[《目次》](/00.0_TOC.md)　　| 　　[次に進む　≫≫](/01.2_HelloWorld.md)
</div>
